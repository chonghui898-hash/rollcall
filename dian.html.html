<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ç‚¹åç³»ç»Ÿ</title>
<style>
body{
    margin:0;
    font-family:-apple-system,BlinkMacSystemFont,"PingFang SC",sans-serif;
    background:#f5f5f5;
}
h1{text-align:center;margin:10px 0;}
.tabs{
    display:flex;
    overflow-x:auto;
    background:#fff;
    border-bottom:1px solid #ddd;
}
.tab{
    padding:12px 16px;
    white-space:nowrap;
    cursor:pointer;
}
.tab.active{
    color:#409eff;
    border-bottom:2px solid #409eff;
    font-weight:bold;
}
.toolbar{
    padding:10px;
}
button{
    padding:6px 10px;
    margin-right:6px;
    border:none;
    border-radius:5px;
    background:#409eff;
    color:#fff;
    font-size:14px;
}
button.danger{background:#f56c6c;}
.students{
    padding:10px;
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:8px;
}
.student{
    background:#eaeaea;
    padding:10px;
    text-align:center;
    border-radius:6px;
    cursor:pointer;
    user-select:none;
}
.student.absent{
    background:#ff4d4f;
    color:#fff;
}
.result-box{position:relative;}
.copy-btn{
    position:absolute;
    right:18px;
    top:8px;
    font-size:12px;
    padding:4px 8px;
}
textarea{
    width:calc(100% - 20px);
    margin:10px;
    height:90px;
    padding:8px;
    border-radius:6px;
    font-size:14px;
}
</style>
</head>
<body>

<h1>ğŸ“‹ ç‚¹åç³»ç»Ÿ</h1>

<div class="tabs" id="tabs"></div>

<div class="toolbar">
    <button onclick="addClass()">â• æ·»åŠ ç­çº§</button>
    <button onclick="addStudent()">â• æ·»åŠ å­¦ç”Ÿ</button>
    <button class="danger" onclick="removeStudent()">ğŸ—‘ åˆ é™¤å­¦ç”Ÿ</button>
    <button class="danger" onclick="removeClass()">ğŸ—‘ åˆ é™¤ç­çº§</button>
</div>

<div class="students" id="students"></div>

<h3 style="margin-left:10px;">æœªåˆ°æƒ…å†µ</h3>
<div class="result-box">
    <button class="copy-btn" onclick="copyResult()">ğŸ“‹ ä¸€é”®å¤åˆ¶</button>
    <textarea id="result" readonly></textarea>
</div>

<script>
let currentClass = 0;

let data = [
    { className:"æ˜Ÿé”1ç­", students:["é™ˆç¿”","èµ–å²‘æ™¨","é™ˆç…Œ","é‚±é’°å®¸","ä¸‡é¦¨","æ¨å¼€ä¸œ","ä½™å¯é¦¨","å¾é™ç…Š","é™ˆåšå®‡","è”¡æ˜±æ£®","å´æ‚ ","é™ˆç‘ç†™","é™ˆè¹çº¢","æ–¹é’¦æ³°","ç¼ªå˜‰æ¶¦","å¶é›…å©·","å¸¸æ££"], absent:[] },
    { className:"æ˜Ÿé”3ç­", students:["åº„å²©","ç™½é‡‘å¹³","è‹æŸå®‡","é™ˆåšæ©","èµµå©·å©·","è‹ä½³æ³“","å±æµ©æš„","ç½—æ™¨èµ«","è”¡æŒ¯ç€š","é™ˆä½³æ€¡","é™ˆå¿—æ©","é™ˆå­ç»´","èƒ¡èŠ·èŠ¸","é»„ç¿æ´","æ—åšæ¶µ","éƒ‘çæ´‹","æé›¨è±","æœ±ä½©å¨´"], absent:[] },
    { className:"æ˜Ÿé”10ç­", students:["å¼ æ£®æ—","é™ˆæ‰ç† ","é»„å®‡æ°","å¼ å®¶è£","å¢æ˜Šæ—","å†¯éª","æåŠ¼","æœ±æ‰¿éœ–","é»„æ˜Šæ´‹","è°¢æ¶”æ²£","é»„æƒ ä½³","éƒ‘æ™¨ç†™","é‚±æ¥šè¿ª","éƒ‘é¢–æ´","æä½³é“¶","åˆ˜èŠ®è¹","é»„å˜‰è““è““","é™ˆå† è±ª"], absent:[] },
    { className:"æ˜Ÿé”11ç­", students:["é»„é‘«è£","è”¡äº‘é¾™","å¶é”å“²","å­™å¿—æ¶›","é™ˆé‡‘å‡¯","å¶æ¬£å¦","é™ˆç‚³é‘«","é™ˆé€¸ä¹”","è‹æ™¨ç†™","è‹éŸ©æ­£","æ¨æ™ºè¶…","è”¡å“å®¸","å¼ åœ£è¶Š","é»åŸ¹é”‹","æ›¹æ™“é“ƒ","å¾å‡¯äº®","æ—å¸§è¢"], absent:[] },
    { className:"æ˜Ÿé”12ç­", students:["æ—å®‡æ¶›","æ—é›¨è±","å¶å‡ŒèŠ¸","ç‹ä¹™èŒ—","è‚–å®‡èˆª","èµµèŠè‹¥","çºªå¢¨æ¶µ","å¾æ˜å‡¯","ä¼é›…æ¬£","è‹åº†æ€¡","ç‹æµ©å®‡","é™ˆæ–°é¢œ","è’‹æ·»ä¹","å¾åŸ¹è¡","è®¸æ¢¦ç’","æ—é–è±ª","ä¸¥æ€è¿œ","é™ˆå¥•æ¼©"], absent:[] },
    { className:"æ˜Ÿé”13ç­", students:["é»„è½¶å¯","æ´ªé›…é›¯","åˆ˜èŠ·ä¾","æ—å®‡è½©","è®¸åœ£ç›ˆ","é’Ÿæ¬£å¦","é™ˆèŠæ”¸","ç‹è¯­æ¶µ","åˆ˜é”¡ç‘","åº·å‘ˆæ‚¦","å´ç…œè¹","é—»æ€å©·","é™ˆæ¢“å¦","éƒ‘ä¾ä¾","é™ˆæ™“è±","é™ˆæ¥šä¼Š","æä¼Ÿç®"], absent:[] }
];

function renderTabs(){
    const tabs=document.getElementById("tabs");
    tabs.innerHTML="";
    data.forEach((c,i)=>{
        const d=document.createElement("div");
        d.className="tab"+(i===currentClass?" active":"");
        d.innerText=c.className;
        d.onclick=()=>{currentClass=i;render();}
        tabs.appendChild(d);
    });
}

function renderStudents(){
    const box=document.getElementById("students");
    box.innerHTML="";
    const cls=data[currentClass];
    cls.students.forEach((s,i)=>{
        const d=document.createElement("div");
        d.className="student"+(cls.absent.includes(s)?" absent":"");
        d.innerText=s;
        d.onclick=()=>toggleAbsent(i);
        box.appendChild(d);
    });
}

function toggleAbsent(i){
    const cls=data[currentClass];
    const name=cls.students[i];
    const idx=cls.absent.indexOf(name);
    idx===-1?cls.absent.push(name):cls.absent.splice(idx,1);
    renderStudents();
    renderResult();
}

function renderResult(){
    let res=[];
    data.forEach(cls=>{
        if(cls.absent.length>0){
            res.push(cls.className+"ï¼š"+cls.absent.join("ã€")+" æœªåˆ°");
        }
    });
    document.getElementById("result").value=res.join("\n");
}

function addClass(){
    const name=prompt("è¾“å…¥ç­çº§åç§°");
    if(!name) return;
    data.push({className:name,students:[],absent:[]});
    currentClass=data.length-1;
    render();
}

function removeClass(){
    if(!confirm("ç¡®å®šåˆ é™¤å½“å‰ç­çº§ï¼Ÿ")) return;
    data.splice(currentClass,1);
    currentClass=Math.max(0,currentClass-1);
    render();
}

function addStudent(){
    const name=prompt("è¾“å…¥å­¦ç”Ÿå§“å");
    if(!name) return;
    data[currentClass].students.push(name);
    renderStudents();
}

function removeStudent(){
    const name=prompt("è¾“å…¥è¦åˆ é™¤çš„å­¦ç”Ÿå§“å");
    if(!name) return;
    const cls=data[currentClass];
    cls.students=cls.students.filter(s=>s!==name);
    cls.absent=cls.absent.filter(s=>s!==name);
    render();
}

function copyResult(){
    const t=document.getElementById("result");
    if(!t.value) return alert("æš‚æ— æœªåˆ°ä¿¡æ¯");
    t.select();
    document.execCommand("copy");
    alert("å·²å¤åˆ¶ï¼Œå¯ç›´æ¥ç²˜è´´");
}

function render(){
    renderTabs();
    renderStudents();
    renderResult();
}
render();
</script>

</body>
</html>